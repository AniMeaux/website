@import url("https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,600,700&display=swap");
@import url("https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,500,600,700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 16px;
    background-color: theme("colors.white");
  }

  body {
    font-family: theme("fontFamily.sans");
    -webkit-font-smoothing: antialiased;
    /* This needs to come after -webkit-font-smoothing */
    -moz-osx-font-smoothing: grayscale;
    text-size-adjust: 100%;
    text-rendering: optimizeLegibility;
    font-size: inherit;
    line-height: 1.5;
    color: theme("textColor.default-color");
  }
}

@layer components {
  .a11y-focus:focus {
    @apply outline-none;
  }

  .a11y-focus:focus-visible,
  .a11y-focus.focus-visible {
    @apply outline;
  }

  .flat-shadow {
    @apply border border-b-4;
  }

  @keyframes loader-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animation-loader-spin {
    animation: loader-spin 1.5s linear infinite;
  }

  @keyframes loader-stroke {
    0% {
      stroke-dasharray: 1, 300;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 150, 300;
      /* Yep, that's right! */
      /* Computed by: `circle.getTotalLength()`. */
      stroke-dashoffset: -175.6449737548828 / 4;
    }

    100% {
      stroke-dasharray: 150, 300;
      stroke-dashoffset: -175.6449737548828;
    }
  }

  @keyframes loader-colors {
    0% {
      @apply text-blue-500;
    }
    20% {
      @apply text-green-500;
    }
    40% {
      @apply text-yellow-500;
    }
    60% {
      @apply text-red-500;
    }
    80% {
      @apply text-cyan-500;
    }
    100% {
      @apply text-blue-500;
    }
  }

  .animation-loader-svg {
    animation: loader-stroke 2s ease-in-out infinite,
      loader-colors 10s step-start infinite;
  }

  .animation-progress-bar {
    @apply text-blue-500;
    height: 2px;
    display: block;
    background-clip: padding-box;
    overflow: hidden;
  }

  @keyframes progress-bar-long {
    0% {
      left: -35%;
      right: 100%;
    }

    60% {
      left: 100%;
      right: -90%;
    }

    100% {
      left: 100%;
      right: -90%;
    }
  }

  .animation-progress-bar::before {
    content: "";
    background-color: currentColor;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    animation: progress-bar-long 2s cubic-bezier(0.65, 0.815, 0.735, 0.395)
      infinite;
  }

  @keyframes progress-bar-short {
    0% {
      left: -200%;
      right: 100%;
    }

    60% {
      left: 107%;
      right: -8%;
    }

    100% {
      left: 107%;
      right: -8%;
    }
  }

  .animation-progress-bar::after {
    content: "";
    background-color: currentColor;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    animation: progress-bar-short 2s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
    animation-delay: 1.15s;
  }

  @keyframes placeholder-pulse {
    0% {
      background-position: -1000px 0;
    }

    100% {
      background-position: 1000px 0;
    }
  }

  .placeholder {
    @apply relative inline-flex items-center;
  }

  .placeholder::before {
    /* Display some text to make sure to have the correct height when it is
     * set to "auto". */
    content: ".";
    opacity: 0;
  }

  .placeholder::after {
    @apply absolute w-full inline-block rounded;
    content: "";
    height: 70%;
    background: linear-gradient(
      to right,
      rgba(237, 237, 237, 0.2),
      rgba(129, 129, 129, 0.2) 50%,
      rgba(237, 237, 237, 0.2)
    );
    background-size: 1000px auto;
    animation-duration: 3s;
    animation-fill-mode: forwards;
    animation-iteration-count: infinite;
    animation-name: placeholder-pulse;
    animation-timing-function: linear;
  }

  .placeholder-avatar {
    @apply w-10 h-10;
  }

  .placeholder-avatar::after {
    @apply h-full rounded-full;
  }

  .placeholder-checkbox {
    @apply w-4 h-4;
  }

  .placeholder-checkbox::after {
    @apply h-full;
  }

  .placeholder-checkbox-input {
    @apply w-1/2 h-10;
  }

  .placeholder-icon {
    width: 1em;
    height: 1em;
  }

  .placeholder-icon::after {
    @apply h-full rounded-full;
  }

  .placeholder-input {
    @apply w-full h-10;
  }

  .placeholder-label {
    @apply w-3/12;
  }

  .placeholder-text {
    @apply w-9/12;
  }

  .placeholder-tag {
    @apply w-20 h-8;
  }

  .placeholder-tag::after {
    @apply rounded-full;
  }

  .navigation-pb {
    padding-bottom: 0;
    padding-bottom: env(safe-area-inset-bottom, 0);
  }

  .main-pb {
    padding-bottom: 1rem;
    padding-bottom: calc(1rem + env(safe-area-inset-bottom, 0));
  }

  .main-pb-with-navigation {
    padding-bottom: 5rem;
    padding-bottom: calc(5rem + env(safe-area-inset-bottom, 0));
  }
}

@layer utilities {
  @variants focus-visible {
    .outline {
      /* Default tailwind outline */
      /* See https://github.com/tailwindlabs/tailwindcss/blob/2b0b306a77cc0f34cd25054a0d661a18278786bc/src/plugins/css/preflight.css#L37 */
      outline: 1px dotted;
      outline: 5px auto -webkit-focus-ring-color;
    }
  }
}
